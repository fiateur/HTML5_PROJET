<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style/TP_Pseudo_Class_Elements.css">
    <title>TP_JS_1</title>
    <!-- ici on insere du Javascript interne -->
    <script>
        //declaration d'un evenement. Evenement automatique au chargement de la page
        document.addEventListener("DOMContentLoaded", function() {
            //appel de la fonction chargerment automatique de mon JS
            chargerPage() ;
        })
        //Declaration d'une constante
        const constante=5;
        //ici c'est la declaration d'une fonction qui va afficher la valeur de name 
        function affichervaleur() {
            let username=document.getElementsByName("username")[0].value ;
            alert('Le Nom du User est :'+username) ;
        }
        
        //ici c'est la declaration d'une fonction charger automatiquement le contenu a executer
        function chargerPage() {
            //appel de la fonction controle et affiche name
            affichervaleur() ;
            //appel de la fonction de controle de username
            controleUsername() ;
            //appel de la fonction de controle de password
            controlePassword() ;
            //appel de la fonction de controle de l'email
            ControleEmail();
        }
        function controleUsername() {
            //declaration d'une variable de type booleen
            let istest=false;
            let username=document.getElementsByName("username")[0].value ;

            if (username=="FIAHAD" || username=="BRUNO" || username=="MICHAEL") {
                istest=true ;
            } //on aurait pu ajouter le else {istest=false;} mais ici c pas neccessaire
            alert("Controle de saisie UserName = " + istest) ;
            return istest;
        }
        //fonction de verificaton de la longueur et de la Majuscule et chiffre dans le password
        function controlePassword(){
            //declaration d'une variable de type booleen
            let istestP=true ;
            let password=document.getElementById("password").value ;
            //appel d'une fonction dans une autre
            let isGoodPassword=verificationDePasse(password) ;

            if (password.length <= 7) {
                istestP=false ;
            } 
            if (!isGoodPassword){
                istestP=false ;
            } 
            alert("Controle de saisie Password est = " + istestP) ;
            return istestP ;
        }
        //fonction de verificaton Majuscule et chiffre dans le password
        function verificationDePasse(password){
            
            const contientMajuscule = /[A-Z]/.test(password) ;
            const contientChiffre = /[0-9]/.test(password) ;

            if (contientMajuscule && contientChiffre) {
                return true ;
            } else{
                return false ;
            }
        }
        //fonction de verificaton de l'email
        function ControleEmail() {
            let email=document.getElementById("email").value ;
            // Regex pour valider une adresse email standard
            const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

            //Explication rapide de la regex :

            /*  ^[^\s@]+ : commence par un ou plusieurs caractères sauf espace ou @

            @ : le caractère @ obligatoire

            [^\s@]+ : encore un ou plusieurs caractères sauf espace ou @

            \. : un point littéral .

            [^\s@]+$ : au moins un caractère (non espace, non @) jusqu’à la fin */

            alert("Controle de saisie de l'adresse email est = " + regex.test(email)) ;
            return regex.test(email);
        }

        //fonction de verificaton Saisie
        function verificationDesSaisies() {
            let CheckName=affichervaleur() ;
            let verifName=controleUsername() ;
            let verifPassword=controlePassword() ;
            let verifemail=ControleEmail() ;

            if (CheckName && verifName && verifPassword && verifemail) {
                alert(" Les Informations sont correctes.");
                return true ;
            } else{
                alert(" Les Informations ne sont pas correctes");
                return false ;
            }
        }

     </script>
</head>
<body>
    <form action="" method="post">
        <div>
            <!-- Ici c'est la saisie du username-->
            <label for="username">username &nbsp;</label><br />
            <input type="text" id="username" name="username" required value="FIAHAD" title="User Name"/><br />
            
            <!-- Ici c'est la saisie du Password-->
            <label for="password">Password &nbsp;</label><br />
            <input type="password" id="password" name="password" value="qwe" required title="Password" /><br />

            <!-- Ici c'est la saisie de l'email-->
            <label for="email">Email &nbsp;</label><br />
            <input type="email" id="email" name="email" required title="e-mail" /><br />

            <!-- Ici c'est la saisie des Hobbies-->
            <label>Hobbies : &nbsp;</label>
            <label for="" class="hobbies">Criket &nbsp;</label>
            <input type="checkbox" class="hobbies"/>
            <label for="" class="hobbies">Football &nbsp;</label>
            <input type="checkbox" id="hobbiesFootball" name="hobbies"/>
            <label for="" class="hobbies">Hockey &nbsp;</label>
            <input type="checkbox" id="hobbiesHockey" name="hobbies"/><br />

            <!-- Ici c'est la saisie du Number-->
            <label for="number">Number &nbsp;</label><br />
            <input type="text" id="number" name="number" required title="Number" /><br />

            <!-- Ici c'est le bouton submit--> 
             <input type="submit" title="Submit" onclick="verificationDesSaisies();">   
             <br />  
        </div>
        <a href="Balise_de_reference.html"> <input type="button" value="Lien Vers Balise de Balise_de_reference"></a>      
    </form>
</body>
</html>
