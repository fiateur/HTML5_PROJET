<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style/TP_Pseudo_Class_Elements.css">
    <title>TP_JS_1</title>
    <!-- ici on insere du Javascript interne -->
    <script>
        //declaration d'un evenement. Evenement automatique au chargement de la page
        document.addEventListener("DOMContentLoaded", function() {
            //appel de la fonction chargerment automatique de mon JS
            //chargerPage() ;TP_JS_1.html
        })
        
        //Declaration d'une constante
        const constante=5;
        //ici c'est la declaration d'une fonction qui va afficher la valeur de name 
        function affichervaleur() {
            let username=document.getElementsByName("username")[0].value ;
            alert('Le Nom du User est : ' + username) ;
        }
        
        //ici c'est la declaration d'une fonction charger automatiquement le contenu a executer
        function chargerPage() {
            //appel de la fonction controle et affiche name
            affichervaleur() ;
            //appel de la fonction de controle de username
            controleUsername() ;
            //appel de la fonction de controle de password
            controlePassword() ;
            //appel de la fonction de controle de l'email
            ControleEmail();
        }
        function controleUsername() {
            //declaration d'une variable de type booleen
            let istest=false;
            let username=document.getElementsByName("username")[0].value ;

           /* on verifie si le champ username est nom vide, non null, et est l'un des noms accepte  */
           if ((username!="" && username!=null)
                    && (username=="FIAHAD" || username=="BRUNO" || username=="MICHAEL")
                ){
                    istest=true ;
                    //on aurait pu ajouter le else {istest=false;} mais ici c pas neccessaire
                    alert("Controle de saisie UserName = " + istest) ;
                    return istest;
                }
            }
        //fonction de verificaton Majuscule et chiffre dans le password
        function verificationDePasse(password){
            
            const contientMajuscule = /[A-Z]/.test(password) ;
            const contientChiffre = /[0-9]/.test(password) ;

            if (contientMajuscule && contientChiffre) {
                return true ;
            } else{
                return false ;
            }
        }
            
        //fonction de verificaton de la longueur et de la Majuscule et chiffre dans le password
        function controlePassword(){
            //declaration d'une variable de type booleen
            let istestP=true ;
            let password=document.getElementById("password").value ;
            //appel d'une fonction dans une autre
            let isGoodPassword=verificationDePasse(password) ;

            if (password.length <= 7) {
                istestP=false ;
            } 
            if (!isGoodPassword){
                istestP=false ;
            } 
            alert("Controle de saisie Password est = " + istestP) ;
            return istestP ;
        }
        //fonction de verificaton de l'email
        function ControleEmail() {
            let email=document.getElementById("email").value ;
            // Regex pour valider une adresse email standard
            const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

            //Explication rapide de la regex :

            /*  ^[^\s@]+ : commence par un ou plusieurs caractères sauf espace ou @
            @ : le caractère @ obligatoire
            [^\s@]+ : encore un ou plusieurs caractères sauf espace ou @

            \. : un point littéral .

            [^\s@]+$ : au moins un caractère (non espace, non @) jusqu’à la fin */

            alert("Controle de saisie de l'adresse email est = " + regex.test(email)) ;
            return regex.test(email);
        }
        //Operateur de comparaison
        function operateurDeComparaison() {
            //declaration des variables
            let number1 = 1, number2 = 2, number3 = 4, result;
            //ici la variable result va recevoir un booleen resultat de la comparaison entre les deux numbers 1 et 3
            result = number1 == number3 ;
            // on affiche la valeur de result qui est false 
            alert("Number1 est il egal a number3 : " + result);
            result = number1 < number3 ;
            // on affiche la valeur de result qui est true 
            alert("Number1 est il inferieur a number 3 : " + result);
        }
        //utilisation de la fonction confirm pour les interactions, avec if et else
        function interactionConfirm() {
            if (confirm('Pour accéder à ce site vous devez être une fille, cliquez sur "OK" si c\'est le cas.')) {
                    alert('Vous allez être redirigé vers le site.');
                }else {
                    alert("Désolé, vous n'avez pas accès à ce site.");
                }

        }
        //utilisation de la fonction confirm if, else et prompt
        function interactionConfirmPrompt() {
            var floor = parseInt(prompt("Entrez l'étage où l'ascenseur doit se rendre (de -2 à 30) :"));
            if (floor == 0) {
                alert('Vous vous trouvez déjà au rez-de-chaussée.');
            } else if (-2 <= floor && floor <= 30) {
                        alert("Direction l'étage n°" + floor + ' !');
                    } else {
                            alert("L'étage spécifié n'existe pas.");
                     }

        }

        //fonction condition switch
        function conditionSwitch() {
            var drawer = parseInt(prompt('Choisissez le tiroir à ouvrir (1 à 4) :')); //on précise bien le type de la valeur, ici un nombre avec la fonction parseInt()
            switch (drawer) {
            case 1: // on pose chaque cas l'un après l'autre ; on met des apostrophes si l'on vérifie des chaînes de caractères au lieu de nombres
                alert('Contient divers outils pour dessiner : du papier, des crayons, etc.');
                break; // on arrête la fonction pour passer à un autre cas
            case 2:
                alert('Contient du matériel informatique : des câbles, des composants, etc.');
                break;
            case 3:
                alert('Ah ? Ce tiroir est fermé à clé ! Dommage !');
                break;
            case 4:
                alert('Contient des vêtements : des chemises, des pantalons, etc.');
                break;
            default: // on pose une autre possibilité, pour gérer une erreur de l'utilisateur
                alert("Info du jour : le meuble ne contient que 4 tiroirs et, jusqu'à preuve du contraire, les tiroirs négatifs n'existent pas.");
            }
        }
        // les ternaires pour simplifier les conditions 
        function ternaires() {
            var startMessage = 'Votre genre : ', 
                endMessage, adult = confirm('Êtes-vous une fille ?');
                //si le resultat de "adult = confirm('Êtes-vous une fille ?')" est oui alors endMessage recoit Fille sinon alors Garcon"
                endMessage = adult ? 'Fille' : 'Garçon';
            alert(startMessage + endMessage);
        }

        //exercices sur les conditions
        function exercicesConditions1() {
             var age = parseInt(prompt('Quel est votre âge ?'));
            if (1 <= age && age <= 6) {
                alert('Vous êtes un jeune enfant.');
                } else if (7 <= age && age <= 11) {
                        alert ('Vous êtes un enfant qui a atteint l\'âge de raison.');
                    } else if (12 <= age && age <= 17) {
                            alert ('Vous êtes un adolescent.');
                        } else if (18 <= age && age <= 120) {
                            alert ('Vous êtes un adulte.');
                            } else {
                                alert ('Erreur !!');
                                }
        }
        function exercicesConditions2() {
             var age = parseInt(prompt('Quel est votre âge ?'));
             switch(age) {
                case  1 <= age && age <= 6 :
                    alert('Vous êtes un jeune enfant.');
                    break;
                case 7 <= age && age <= 11 :
                    alert ('Vous êtes un enfant qui a atteint l\'âge de raison.');
                    break;
                
                case 18 <= age && age <= 120 :
                    alert ('Vous êtes un adulte.');
                    break;
                
                default :
                    alert ('Erreur !!.');
                    break;
             }
        }
        //exercices sur les conditions ternaires
        function exercicesConditionsTernaires() {
             var age = parseInt(prompt('Quel est votre âge ?'));
            let isAge = false;
            isAge = (1 <= age && age <= 6) ? alert('Vous êtes un jeune enfant.') : 
                    (7 <= age && age <= 11) ? alert ('Vous êtes un enfant qui a atteint l\'âge de raison.'):
                    (12 <= age && age <= 17) ? alert ('Vous êtes un adolescent.') : 
                    (18 <= age && age <= 120) ? alert ('Vous êtes un adulte.') : alert ('Erreur !!');                  

        }
        //21 06 2025
        //exercices sur les incrementations et les decrementations
        function incrementationsDecrementation() {
            let number =  number2 = number3 = 0;
            
            number++;
            number2 += 1; 
            number3 = number3 + 1; 
            alert('Number = ' + number); // Affiche : « 1 »
            alert('Number2 = ' + number2); // Affiche : « 1 »
            alert('Number3 = ' + number3); // Affiche : « 1 »

            number--;
            number2 -= 1; 
            number3 = number3 - 1;
            alert('Number = ' + number); // Affiche : « 0 »   
            alert('Number2 = ' + number2); // Affiche : « 0 » 
            alert('Number3 = ' + number3); // Affiche : « 0 »              

        }
        //Boucle for
        function boucleFor() {
            for (var i=1; i<=5; i++) { // On initialise une variable, et tant qu'elle est inférieure ou égale à 5 on l'incrémente de 1.
                alert('Itération n°' + i); // A chaque fois on affiche une boîte de dialogue (5 fois)
            } 
        }

        //Boucle for avec incrementation chaine de caracteres
        function boucleForIncrementation() {
            for (var i = 0, prenoms = '', prenom; true; i++) {
                prenom = prompt('Entrez un prénom :');
                if (prenom) {
                     prenoms += prenom + ' '; 
                } else { 
                    break;
                 } 
            }
            alert('Il y a ' + i + ' prénoms :\n\n' + prenoms); // Les \n servent à faire des sauts de ligne
        }

        //Boucle while (tant que)
        function boucleWhile() {
            let number = parseInt(prompt('Saisir un Nombre >=0!'));
            while (number < 10) {
                 number++; // Tant que le nombre est inférieur a 10, on l'incrémente de 1
                 alert(' Le Nombre incremente est : ' + number);
            }
            alert(' Le Nombre Total est : ' +number); // Affiche : « 10 »
        }

        //Boucle while (tant que) avec condition booleen et prompt
        function boucleWhileWithBooleenCondition() {
            let prenoms = '', prenom; // On crée une variable prenoms pour mémoriser
            while (confirm('Etes-vous un Eleve?')) {
                prenom = prompt('Entrez un prénom :'); // L'utilisateur entre chaque prenom
                if (prenom) {
                    prenoms += prenom + ' '; // Ajoute le nouveau prénom ainsi qu'une espace
                } else {
                    break; // On quitte la boucle
                }
            } 
            alert(prenoms); // Affiche les prénoms à la suite
        }

        //Boucle do while (faire tant que) 
        function boucleDoWhileWithBooleenCondition() {
            let prenoms = '', prenom; // On crée une variable prenoms pour mémoriser
            do {
                prenom = prompt('Entrez un prénom :'); // L'utilisateur entre chaque prenom
                if (prenom) {
                    prenoms += prenom + ' '; // Ajoute le nouveau prénom ainsi qu'une espace
                } else {
                    break; // On quitte la boucle
                }
            } while (confirm('Etes-vous un Eleve?')) ;
            alert(prenoms); // Affiche les prénoms à la suite
        }

        // Declaration d'une Variables Locales et Globaless
        let variableGlobale = 'Ici la variable globale !';
        // Declaration d'une variable locale 
        function variablesLocalesGlobales() {
            let VariableLocale = 'Ici la variable locale !';
            alert(variableGlobale);
            alert(VariableLocale);
        }

        // Exemple de fonction anonyme. 
        // C'est une fonction qu'on vient creer dans la declaration d'une variable
        //Et qui directement transforme la variable en fonction
        function fonctionAnonyme() {
            let sayHello = function() {
                                alert('Bonjour !');
                            };
            sayHello(); 
        }

        // Exemple de declaration de Tableau (Array)
        //Declare un tableau et l'initialise avec des valeurs, puis affiche une valeur choisie
        function exempleTypeArray() {
            var myArray = ['Rafael', 'Mathilde', 'Ahmed', 'Jérôme', 'Guillaume'];
            // Le contenu se définit entre crochets, avec une virgule entre chaque valeur.
            // La chaîne 'Rafael' correspond à l'indice 0, 'Mathilde' à l'indice 1...
            alert(myArray[1]); // Affiche : « Mathilde » 
            myArray[1] = 'Paul'; //Affectation de la valeur Paul
            alert(myArray[1]); // Affiche : « Paul » 
        }

        // Operations sur les tableaux 
        function exempleTypeArrayOperationsTableau() {
            var myArray = ['Rafael', 'Mathilde', 'Ahmed', 'Jérôme', 'Guillaume'];

            myArray.shift(); // Retire « Rafael »
            myArray.pop(); // Retire « Guillaume »
            alert(myArray); // Affiche « Mathilde,Ahmed,Jérôme »

            // Le contenu se définit entre crochets, avec une virgule entre chaque valeur.
            // La chaîne 'Rafael' correspond à l'indice 0, 'Mathilde' à l'indice 1...
            myArray.push('Paul') ; // Insere une valeur a la fin du tableau
            alert(myArray); // Affiche le tableau

            var isName = myArray.find(n => n == 'Paul');
            alert('Recherche de Paul :' + isName);

        }

        // Operations sur les tableaux : fonction split
        function fonctionSplitTableau() {
            var cousinsString = 'Jérôme Guillaume Paul',
            //on cree une variable cousinsArray qui sera de type tableau grace a la fonction split()
            //la fonction split qui retourne un tableau en decoupant la chaine de caractere a chaque fois
            //  qu'elle va trouver  l'argument de recherche de la fonction (le separateur)
            cousinsArray = cousinsString.split(' '); // Avec les espaces, on a trois items
            alert(cousinsString);
            cousinsArray.push('Bruno'); //insertion d'une valeur
            alert(cousinsArray); //il affiche  [Jérôme, Guillaume, Paul, Bruno]
            //la fonction join() fait l'inverse du split, il concatene avec l'argument de la fonction comme separateur
            var cousinsString_2 = cousinsArray.join('-');
            alert(cousinsString_2); //il affiche  [Jérôme-Guillaume-Paul-Bruno]
        }

        // Parcourir un tableau
        function ParcourirTableau() {
            cousinsString = 'Jérôme Guillaume Paul Bruno',
            cousinsArray = cousinsString.split(' '); // Avec les espaces, on a 4 items
            alert('Notre Chaine de Caractere est : ' + cousinsString);
            alert('Notre Tableau est : ' + cousinsArray); //il affiche  [Jérôme, Guillaume, Paul, Bruno]
            for(let i=0; i < cousinsArray.length; i++){
                alert('La Valeur ' + i + ' du tableau est ' + cousinsArray[i]);
            }

        }

        // objet littereaux
        function objetsLittereaux() {
            var family = {
                self: 'Rafael',
                sister: 'Mathilde',
                brother: 'Ahmed',
                cousin_1: 'Jérôme',
                cousin_2: 'Guillaume'
            };
            var id = 'sister';
            alert(family[id]); // Affiche : « Mathilde »
            alert(family.brother); // Affiche : « Ahmed »
            alert(family['self']); // Affiche : « Rafael »
            family['uncle'] = 'Pauline'; // On ajoute une donnée, avec un identifiant.
            family.aunt = 'Karim'; // On peut ajouter aussi de cette manière.
            alert(family.uncle);
        }

        // Exercice sur les Tableau P16
        function exoTableau() {
            let prenom, tabPrenom=[]; // On crée une variable pour capter les valeurs saisies et un tableau
            
            while (prenom = prompt('Entrez un prénom :')){ 
                    tabPrenom.push(prenom);
            } 
            if (tabPrenom.length == 0){
                alert('Aucun Prenom Saisie!'); // Le Tableau est vide
            }else{
                alert(tabPrenom.join('-')); // Affiche la liste des valeurs du tableau et separees par un espace
            }
        }
        //fonction de verificaton Saisie

        function verificationDesSaisies() {
            //affichervaleur() ;
            //operateurDeComparaison() ;
            //interactionConfirm() ;
            //interactionConfirmPrompt();
            //conditionSwitch();
            //ternaires();
            //exercicesConditions1();
            //exercicesConditions2();
            //exercicesConditionsTernaires()
            //incrementationsDecrementation();
            //boucleFor();
            //boucleForIncrementation();
            //boucleWhile();
            //boucleWhileWithBooleenCondition();
            //boucleDoWhileWithBooleenCondition();
            //variablesLocalesGlobales();
            //fonctionAnonyme();
            //exempleTypeArray();
            //exempleTypeArrayOperationsTableau();
            //fonctionSplitTableau();
            //ParcourirTableau() ;
            //objetsLittereaux() ;
            exoTableau();

            /*let verifName=controleUsername() ;
            let verifPassword=controlePassword() ;
            let verifemail=ControleEmail() ;

            if (verifName && verifPassword && verifemail) {
                alert(" Les Informations sont correctes.");
                return true ;
            } else{
                alert(" Les Informations ne sont pas correctes");
                return false ;
            }*/
        }

     </script>
</head>
<body>
    <form action="" method="post">
        <div>
            <!-- Ici c'est la saisie du username-->
             <!-- Exemple d'utilisation d'un evenement dans l'element / onclic-->
            <label for="username">username &nbsp;</label><br />
            <input type="text" id="username" name="username" required value="FIAHAD" title="User Name" onfocus="document.getElementById('username').value = 'Vous avez maintenant le focus sur le username, bravo !';"/><br />
            
            <!-- Ici c'est la saisie du Password-->
            <label for="password">Password &nbsp;</label><br />
            <input type="text" id="password" name="password" value="qwe" required title="Password" /><br />

            <!-- Ici c'est la saisie de l'email-->
            <label for="email">Email &nbsp;</label><br />
            <input type="email" id="email" name="email" required title="e-mail" /><br />

            <!-- Ici c'est la saisie des Hobbies-->
            <label>Hobbies : &nbsp;</label>
            <label for="" class="hobbies">Criket &nbsp;</label>
            <input type="checkbox" class="hobbies"/>
            <label for="" class="hobbies">Football &nbsp;</label>
            <input type="checkbox" id="hobbiesFootball" name="hobbies"/>
            <label for="" class="hobbies">Hockey &nbsp;</label>
            <input type="checkbox" id="hobbiesHockey" name="hobbies"/><br />

            <!-- Ici c'est la saisie du Number-->
            <label for="number">Number &nbsp;</label><br />
            <input type="text" id="number" name="number" required title="Number" /><br />

            <!-- Ici c'est le bouton submit--> 
             <input type="submit" title="Submit" onclick="verificationDesSaisies();">   
             <br />  
        </div>
        <a href="Balise_de_reference.html"> <input type="button" value="Lien Vers Balise de Balise_de_reference"></a>      
    </form>
    <script>
        //declaration d'un evenement sur un elenemt cible. ici document.getElementById('password')
        var textpassword = document.getElementById('password');
        textpassword.addEventListener('focus', function(e) {
            e.target.value = "Vous avez le focus !";
        }, true)

        textpassword.addEventListener('blur', function(e) {
            e.target.value = "Vous n'avez pas le focus !";
        }, true)
    </script>
</body>
</html>
